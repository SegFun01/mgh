MÉTODO DEL GRADIENTE HIDRÁULICO

Modo de ejecución: Impresión detallada
--
Topología de nudos OK

----- INICIO DEL CÁLCULO -----

----- Iteración inicial -----
Matriz [q]
[100.0, 20.0, 20.0, 30.0, 30.0, 20.0, 10.0]

Matriz [Ho]
[100.]

Matriz [qi]
[30. 20. 30. 30. 20. 14.]

Matriz [B]
[[ 1.  0.  0.  0.  0.  0.]
 [-1.  1.  0.  0.  0.  0.]
 [ 0.  0. -1.  0.  0.  1.]
 [-1.  0.  0.  1.  0.  0.]
 [ 0.  0.  1. -1.  0.  0.]
 [ 0.  0.  0. -1.  1.  0.]
 [ 0.  0.  0.  0.  1. -1.]]

Matriz [C]
[[-1.]
 [ 0.]
 [ 0.]
 [ 0.]
 [ 0.]
 [ 0.]
 [ 0.]]

Matriz [Q]
[100. 100. 100. 100. 100. 100. 100.]


Variables hidráulicas de los tramos

  N  De->A    L    D    ks    kL    Es    A      v       Re     f       hf    hL      alfa
-------------------------------------------------------------------------------------------
  0   0  1   100  200 0.0500  2.0  TA  0.0314   3.18  632194 0.01570   4.05  1.03    508.56
  1   1  2    80  200 0.0500  2.0  TA  0.0314   3.18  632194 0.01570   3.24  1.03    427.50
  2   3  6   125  200 0.0500  2.0  TA  0.0314   3.18  632194 0.01570   5.07  1.03    609.87
  3   1  4   200  200 0.0500  2.0  VR  0.0314   3.18  632194 0.01570   8.11  1.03    913.83
  4   4  3   125  200 0.0500  2.0  TA  0.0314   3.18  632194 0.01570   5.07  1.03    609.87
  5   4  5   100  150 0.0500  2.0  TA  0.0177   5.66  842926 0.01616  17.59  3.26   2085.18
  6   6  5    80  150 0.0500  2.0  TA  0.0177   5.66  842926 0.01616  14.07  3.26   1733.43
-------------------------------------------------------------------------------------------

Matriz [A]
[[ 50.86   0.     0.     0.     0.     0.     0.  ]
 [  0.    42.75   0.     0.     0.     0.     0.  ]
 [  0.     0.    60.99   0.     0.     0.     0.  ]
 [  0.     0.     0.    91.38   0.     0.     0.  ]
 [  0.     0.     0.     0.    60.99   0.     0.  ]
 [  0.     0.     0.     0.     0.   208.52   0.  ]
 [  0.     0.     0.     0.     0.     0.   173.34]]

Matriz [A1]
[[ 50.86   0.     0.     0.     0.     0.     0.  ]
 [  0.    42.75   0.     0.     0.     0.     0.  ]
 [  0.     0.    60.99   0.     0.     0.     0.  ]
 [  0.     0.     0.    91.38   0.     0.     0.  ]
 [  0.     0.     0.     0.    60.99   0.     0.  ]
 [  0.     0.     0.     0.     0.   208.52   0.  ]
 [  0.     0.     0.     0.     0.     0.   173.34]]

----Inician las iteraciones----


-----Iteración número:   1 -----

Variables hidráulicas de los tramos

  N  De->A    L    D    ks    kL    Es    A      v       Re     f       hf    hL      alfa
-------------------------------------------------------------------------------------------
  0   0  1   100  200 0.0500  2.0  TA  0.0314   4.58  910360 0.01536   8.22  2.14    499.93
  1   1  2    80  200 0.0500  2.0  TA  0.0314   0.64  126439 0.01858   0.15  0.04    487.01
  2   3  6   125  200 0.0500  2.0  TA  0.0314   0.76  150908 0.01812   0.33  0.06    688.05
  3   1  4   200  200 0.0500  2.0  VR  0.0314   2.99  594263 0.01576   7.19  0.91    917.22
  4   4  3   125  200 0.0500  2.0  TA  0.0314   1.71  340566 0.01649   1.54  0.30    635.59
  5   4  5   100  150 0.0500  2.0  TA  0.0177   0.57   85385 0.02013   0.22  0.03   2517.08
  6   6  5    80  150 0.0500  2.0  TA  0.0177   0.56   83200 0.02021   0.17  0.03   2086.04
-------------------------------------------------------------------------------------------
Matriz [A]
[[ 71.99   0.     0.     0.     0.     0.     0.  ]
 [  0.     9.74   0.     0.     0.     0.     0.  ]
 [  0.     0.    16.42   0.     0.     0.     0.  ]
 [  0.     0.     0.   313.74   0.     0.     0.  ]
 [  0.     0.     0.     0.    34.24   0.     0.  ]
 [  0.     0.     0.     0.     0.    25.5    0.  ]
 [  0.     0.     0.     0.     0.     0.    20.59]]

Matriz [A1]
[[71.99  0.    0.    0.    0.    0.    0.  ]
 [ 0.    9.74  0.    0.    0.    0.    0.  ]
 [ 0.    0.   16.42  0.    0.    0.    0.  ]
 [ 0.    0.    0.   86.22  0.    0.    0.  ]
 [ 0.    0.    0.    0.   34.24  0.    0.  ]
 [ 0.    0.    0.    0.    0.   25.5   0.  ]
 [ 0.    0.    0.    0.    0.    0.   20.59]]

Matriz [qfi]
[-144.]

Matriz [Hi]
[90.44 93.   81.93 82.4  99.02 85.11]

Matriz [Qi]
[144.    20.    23.87  94.    53.87  10.13   9.87]

Matriz [dq]
[ 0.04 -0.08 -0.08 -0.01 -0.05 -0.09 -0.09]


-----Fin iteración:   1  Desbalance de caudales: 89.870431


-----Iteración número:   2 -----

Variables hidráulicas de los tramos

  N  De->A    L    D    ks    kL    Es    A      v       Re     f       hf    hL      alfa
-------------------------------------------------------------------------------------------
  0   0  1   100  200 0.0500  2.0  TA  0.0314   4.58  910360 0.01536   8.22  2.14    499.93
  1   1  2    80  200 0.0500  2.0  TA  0.0314   0.64  126439 0.01858   0.15  0.04    487.01
  2   3  6   125  200 0.0500  2.0  TA  0.0314   0.40   79635 0.01998   0.10  0.02    748.25
  3   1  4   200  200 0.0500  2.0  VR  0.0314   2.99  594263 0.01576   7.19  0.91    917.22
  4   4  3   125  200 0.0500  2.0  TA  0.0314   1.36  269293 0.01689   0.99  0.19    648.30
  5   4  5   100  150 0.0500  2.0  TA  0.0177   1.21  180415 0.01820   0.91  0.15   2307.08
  6   6  5    80  150 0.0500  2.0  TA  0.0177  -0.08   11830 0.03022   0.01  0.00   2956.88
-------------------------------------------------------------------------------------------
Matriz [A]
[[ 71.99   0.     0.     0.     0.     0.     0.  ]
 [  0.     9.74   0.     0.     0.     0.     0.  ]
 [  0.     0.     9.43   0.     0.     0.     0.  ]
 [  0.     0.     0.   305.17   0.     0.     0.  ]
 [  0.     0.     0.     0.    27.62   0.     0.  ]
 [  0.     0.     0.     0.     0.    49.38   0.  ]
 [  0.     0.     0.     0.     0.     0.    -4.15]]

Matriz [A1]
[[71.99  0.    0.    0.    0.    0.    0.  ]
 [ 0.    9.74  0.    0.    0.    0.    0.  ]
 [ 0.    0.    9.43  0.    0.    0.    0.  ]
 [ 0.    0.    0.   86.22  0.    0.    0.  ]
 [ 0.    0.    0.    0.   27.62  0.    0.  ]
 [ 0.    0.    0.    0.    0.   49.38  0.  ]
 [ 0.    0.    0.    0.    0.    0.   -4.15]]

Matriz [qfi]
[-144.]

Matriz [Hi]
[89.63 89.44 59.07 60.14 59.31 59.05]

Matriz [Qi]
[144.   20.   12.6  94.   42.6  21.4  -1.4]

Matriz [dq]
[-3.05e-16  1.73e-17 -1.13e-02 -8.33e-17 -1.13e-02  1.13e-02 -1.13e-02]


-----Fin iteración:   2  Desbalance de caudales: 11.273820


-----Iteración número:   3 -----

Variables hidráulicas de los tramos

  N  De->A    L    D    ks    kL    Es    A      v       Re     f       hf    hL      alfa
-------------------------------------------------------------------------------------------
  0   0  1   100  200 0.0500  2.0  TA  0.0314   4.58  910360 0.01536   8.22  2.14    499.93
  1   1  2    80  200 0.0500  2.0  TA  0.0314   0.64  126439 0.01858   0.15  0.04    487.01
  2   3  6   125  200 0.0500  2.0  TA  0.0314   0.35   70261 0.02042   0.08  0.01    762.35
  3   1  4   200  200 0.0500  2.0  VR  0.0314   2.99  594263 0.01576   7.19  0.91    917.22
  4   4  3   125  200 0.0500  2.0  TA  0.0314   1.31  259919 0.01695   0.92  0.17    650.38
  5   4  5   100  150 0.0500  2.0  TA  0.0177   1.30  192914 0.01807   1.03  0.17   2292.20
  6   6  5    80  150 0.0500  2.0  TA  0.0177  -0.16   24329 0.02548   0.02  0.00   2544.83
-------------------------------------------------------------------------------------------
Matriz [A]
[[ 71.99   0.     0.     0.     0.     0.     0.  ]
 [  0.     9.74   0.     0.     0.     0.     0.  ]
 [  0.     0.     8.47   0.     0.     0.     0.  ]
 [  0.     0.     0.   305.17   0.     0.     0.  ]
 [  0.     0.     0.     0.    26.74   0.     0.  ]
 [  0.     0.     0.     0.     0.    52.46   0.  ]
 [  0.     0.     0.     0.     0.     0.    -7.34]]

Matriz [A1]
[[71.99  0.    0.    0.    0.    0.    0.  ]
 [ 0.    9.74  0.    0.    0.    0.    0.  ]
 [ 0.    0.    8.47  0.    0.    0.    0.  ]
 [ 0.    0.    0.   86.22  0.    0.    0.  ]
 [ 0.    0.    0.    0.   26.74  0.    0.  ]
 [ 0.    0.    0.    0.    0.   52.46  0.  ]
 [ 0.    0.    0.    0.    0.    0.   -7.34]]

Matriz [qfi]
[-144.]

Matriz [Hi]
[89.63 89.44 59.85 60.95 59.74 59.76]

Matriz [Qi]
[144.    20.    11.11  94.    41.11  22.89  -2.89]

Matriz [dq]
[-8.88e-16  6.94e-18 -1.48e-03 -1.26e-15 -1.48e-03  1.48e-03 -1.48e-03]


-----Fin iteración:   3  Desbalance de caudales: 1.482857


-----Iteración número:   4 -----

Variables hidráulicas de los tramos

  N  De->A    L    D    ks    kL    Es    A      v       Re     f       hf    hL      alfa
-------------------------------------------------------------------------------------------
  0   0  1   100  200 0.0500  2.0  TA  0.0314   4.58  910360 0.01536   8.22  2.14    499.93
  1   1  2    80  200 0.0500  2.0  TA  0.0314   0.64  126439 0.01858   0.15  0.04    487.01
  2   3  6   125  200 0.0500  2.0  TA  0.0314   0.35   69705 0.02045   0.08  0.01    763.28
  3   1  4   200  200 0.0500  2.0  VR  0.0314   2.99  594263 0.01576   7.19  0.91    917.22
  4   4  3   125  200 0.0500  2.0  TA  0.0314   1.31  259363 0.01695   0.92  0.17    650.51
  5   4  5   100  150 0.0500  2.0  TA  0.0177   1.30  193655 0.01806   1.04  0.17   2291.36
  6   6  5    80  150 0.0500  2.0  TA  0.0177  -0.17   25070 0.02532   0.02  0.00   2530.34
-------------------------------------------------------------------------------------------
Matriz [A]
[[ 71.99   0.     0.     0.     0.     0.     0.  ]
 [  0.     9.74   0.     0.     0.     0.     0.  ]
 [  0.     0.     8.42   0.     0.     0.     0.  ]
 [  0.     0.     0.   305.17   0.     0.     0.  ]
 [  0.     0.     0.     0.    26.69   0.     0.  ]
 [  0.     0.     0.     0.     0.    52.64   0.  ]
 [  0.     0.     0.     0.     0.     0.    -7.53]]

Matriz [A1]
[[71.99  0.    0.    0.    0.    0.    0.  ]
 [ 0.    9.74  0.    0.    0.    0.    0.  ]
 [ 0.    0.    8.42  0.    0.    0.    0.  ]
 [ 0.    0.    0.   86.22  0.    0.    0.  ]
 [ 0.    0.    0.    0.   26.69  0.    0.  ]
 [ 0.    0.    0.    0.    0.   52.64  0.  ]
 [ 0.    0.    0.    0.    0.    0.   -7.53]]

Matriz [qfi]
[-144.]

Matriz [Hi]
[89.63 89.44 59.85 60.95 59.74 59.76]

Matriz [Qi]
[144.    20.    11.03  94.    41.03  22.97  -2.97]

Matriz [dq]
[ 2.55e-15  7.29e-16 -8.79e-05  2.05e-15 -8.79e-05  8.79e-05 -8.79e-05]


-----Fin iteración:   4  Desbalance de caudales: 0.087867


-----Iteración número:   5 -----

Variables hidráulicas de los tramos

  N  De->A    L    D    ks    kL    Es    A      v       Re     f       hf    hL      alfa
-------------------------------------------------------------------------------------------
  0   0  1   100  200 0.0500  2.0  TA  0.0314   4.58  910360 0.01536   8.22  2.14    499.93
  1   1  2    80  200 0.0500  2.0  TA  0.0314   0.64  126439 0.01858   0.15  0.04    487.01
  2   3  6   125  200 0.0500  2.0  TA  0.0314   0.35   69679 0.02045   0.08  0.01    763.32
  3   1  4   200  200 0.0500  2.0  VR  0.0314   2.99  594263 0.01576   7.19  0.91    917.22
  4   4  3   125  200 0.0500  2.0  TA  0.0314   1.31  259338 0.01695   0.92  0.17    650.51
  5   4  5   100  150 0.0500  2.0  TA  0.0177   1.30  193689 0.01806   1.04  0.17   2291.32
  6   6  5    80  150 0.0500  2.0  TA  0.0177  -0.17   25104 0.02531   0.02  0.00   2529.69
-------------------------------------------------------------------------------------------
Matriz [A]
[[ 71.99   0.     0.     0.     0.     0.     0.  ]
 [  0.     9.74   0.     0.     0.     0.     0.  ]
 [  0.     0.     8.41   0.     0.     0.     0.  ]
 [  0.     0.     0.   305.17   0.     0.     0.  ]
 [  0.     0.     0.     0.    26.69   0.     0.  ]
 [  0.     0.     0.     0.     0.    52.65   0.  ]
 [  0.     0.     0.     0.     0.     0.    -7.53]]

Matriz [A1]
[[71.99  0.    0.    0.    0.    0.    0.  ]
 [ 0.    9.74  0.    0.    0.    0.    0.  ]
 [ 0.    0.    8.41  0.    0.    0.    0.  ]
 [ 0.    0.    0.   86.22  0.    0.    0.  ]
 [ 0.    0.    0.    0.   26.69  0.    0.  ]
 [ 0.    0.    0.    0.    0.   52.65  0.  ]
 [ 0.    0.    0.    0.    0.    0.   -7.53]]

Matriz [qfi]
[-144.]

Matriz [Hi]
[89.63 89.44 59.85 60.95 59.74 59.76]

Matriz [Qi]
[144.    20.    11.02  94.    41.02  22.98  -2.98]

Matriz [dq]
[-1.36e-15 -1.42e-15 -4.05e-06 -1.39e-15 -4.05e-06  4.05e-06 -4.05e-06]


-----Fin iteración:   5  Desbalance de caudales: 0.004053

----- FIN DEL CÁLCULO -----


MÉTODO DEL GRADIENTE HIDRÁULICO              v1.0.0-alpha

Archivo de entrada: ./input/EjemploVRP.mgh.json
Titulo:      Ejemplo con valvula de control
Autor:       Carlos Camacho
Fecha:       02/02/2019
Versión:     1.0.0
Viscosidad:  1.007e-06
Desbalance:  1e-05
Máximo iteraciones permitidas:  40
Ecuación de pérdidas de fricción: Swamee-Jain
Factor global de demanda:  1.0

DATOS DE ENTRADA

Nudos de carga fija
  N  Elevación    Carga    Nivel
---------------------------------
  0    90.00     100.00    10.00 
---------------------------------

Nudos de demanda
  N  Elevación   Demanda    FVH
---------------------------------
  1    70.00      20.00     1.50 
  2    70.00      20.00     1.00 
  3    40.00      30.00     1.00 
  4    40.00      30.00     1.00 
  5    40.00      20.00     1.00 
  6    40.00      10.00     1.40 
---------------------------------

Tramos
  T   de->a      L     D     A       ks     kL   Estado   Op 
---------------------------------------------------------------
  0    0  1     100   200  0.0314  0.0500   2.0    TA   - 
  1    1  2      80   200  0.0314  0.0500   2.0    TA   - 
  2    3  6     125   200  0.0314  0.0500   2.0    TA   - 
  3    1  4     200   200  0.0314  0.0500   2.0    VR   10 
  4    4  3     125   200  0.0314  0.0500   2.0    TA   - 
  5    4  5     100   150  0.0177  0.0500   2.0    TA   - 
  6    6  5      80   150  0.0177  0.0500   2.0    TA   - 
---------------------------------------------------------------

RESULTADOS

Nudos de carga fija
  N  Elevación    Carga    Nivel   Caudal
------------------------------------------
  0    90.00     100.00    10.00  -144.00
------------------------------------------

Nudos de demanda
  N  Elevación   Q Base    FVH    Q Neto      Carga   Presión
-------------------------------------------------------------
  1    70.00      20.00    1.50    30.00      89.63    19.63
  2    70.00      20.00    1.00    20.00      89.44    19.44
  3    40.00      30.00    1.00    30.00      59.85    19.85
  4    40.00      30.00    1.00    30.00      60.95    20.95
  5    40.00      20.00    1.00    20.00      59.74    19.74
  6    40.00      10.00    1.40    14.00      59.76    19.76
-------------------------------------------------------------

Tramos
  T   de->a      V       Q       hf      hL      hT       S   
---------------------------------------------------------------
  0    0  1     4.58  144.00    8.22    2.14   10.37   0.10367 
  1    1  2     0.64   20.00    0.15    0.04    0.19   0.00244 
  2    3  6     0.35   11.02    0.08    0.01    0.09   0.00074 
  3    1  4     2.99   94.00    7.19    0.91    8.10   0.04052 HVR=-20.58
  4    4  3     1.31   41.02    0.92    0.17    1.09   0.00876 
  5    4  5     1.30   22.98    1.04    0.17    1.21   0.01210 
  6    6  5    -0.17   -2.98    0.02    0.00    0.02   0.00028 
---------------------------------------------------------------

Fecha y hora de esta corrida:  Thu Sep  8 15:00:15 2022
crcs-2022
